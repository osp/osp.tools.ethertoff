{% extends "pad-base.html" %}
{% load wikify relearn_tags %}

{% block extra_styles %}
    <link rel="stylesheet" href="/css/" type="text/css" media="screen">
    <link rel="stylesheet/less" href="/css-print/" type="text/css" media="print">
{% endblock %}

{% block head_meta %}

    <meta property="og:image" content="http://f-u-t-u-r-e.org/media/images/eyes/{{ EYES }}"/>
    <meta name="description" content="<o> future <o>  is an editorial project conceived to approach horizontally the activities of writing, publishing and designing texts dedicated to art, media and design among other subjects. <o> future <o>  publishes texts online as much as in books."/>

{% endblock %}

{% block bodyclasses %}pad-00md{% endblock %}

{% block extra_nav %}
    <div id="sort-by">Sort by:
        <a class="{% if not sort %}active{% endif %} button screen-only" href="/">Date</a>
        <a class="{% if sort == 'author' %}active{% endif %} button screen-only" href="?sort=author">Author</a>
        <a class="{% if sort == 'book' %}active{% endif %} button screen-only" href="?sort=book">Book</a>
    </div>
{% endblock %}


{% block title %}
    <header>
    <style>
    body {
        background-image: url("/media/images/eyes/{{ EYES }}");
    }
    </style>
        

    <h1>
        <span property="dc:title">Index</span>
    </h1>
    </header>
{% endblock %}

{% block content %}
    <ul>
    {% for article in articles %}
        {% if forloop.counter.last %}
            <li>
        {% endif %}
        {% ifchanged article.id %}
        </li>
        <li {% if article.type %}data-type="{{ article.type }}"{% endif %}>
                <span class="authors">{{ article.authors|natural_join:'&' }}</span> 
        {% endifchanged %}

        <a href="{{ article.href }}" lang="{{ article.language }}">{{ article.title|markdown_filter }}</a>

        {% if forloop.counter.last %}
            </li>
        {% endif %}
    {% endfor %}
    </ul>
    {{ pub|safe }}
{% endblock %}

{% block rightside %}
{% endblock %}

{% block extraui %}
{% if not user.is_authenticated %}
<div class="popup-wrapper hidden">
    <div class="popup">
      <form method="post" action="{% url 'django.contrib.auth.views.login' %}">
        {% csrf_token %}
        <label for="id_username">Username</label>
        <input id="id_username" maxlength="254" name="username" type="text" />
        <label for="id_password">Password</label>
        <input id="id_password" name="password" type="password" />
    
        <input class="submit" type="submit" value="Login" />
        <input type="hidden" name="next" value="{% if next %}{{ next }}{% else %}{% url 'home' %}{% endif %}" />
      </form>
    </div>
</div>
{% endif %}
{% endblock %}
