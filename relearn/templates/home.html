{% extends "base.html" %}
{% load wikify relearn_tags %}

{% block bodyclasses %}pad-00md{% endblock %}

{% block extra_nav %}
    <div id="sort-by">Sort by:
        <a class="{% if sort == 'theme' %}active{% endif %} button screen-only" href="/">Theme</a>
        <a class="{% if sort == 'date' %}active{% endif %} button screen-only" href="/?sort=date">Date</a>
        <a class="{% if sort == 'tags' %}active{% endif %} button screen-only" href="/?sort=tags">Tag</a>
        <a class="{% if sort == 'participants' %}active{% endif %} button screen-only" href="/?sort=participants">Participant</a>
        <a class="{% if sort == 'place' %}active{% endif %} button screen-only" href="/?sort=place">Location</a>
    </div>
{% endblock %}


{% block title %}
    <header>
    <h1>
        <span property="dc:title">Index</span>
    </h1>
    </header>
{% endblock %}

{% block content %}
    {% for set_of_articles in articles %}
    <h2>{{ set_of_articles.key }}</h2>
    
    <ul>
    {% for article in set_of_articles.values %}

        <li {% if article.type %}data-type="{{ article.type }}"{% endif %}>
        <a href="{{ article.href }}" lang="{{ article.language }}">{{ article.title|markdown_filter }}</a>
        </li>

    {% endfor %}
    </ul>
    {% endfor %}
{% endblock %}

{% block rightside %}
    {% if author %}
    {% endif %}
{% endblock %}

{% block extraui %}
{% if not user.is_authenticated %}
<div class="popup-wrapper hidden">
    <div class="popup">
      <form method="post" action="{% url 'django.contrib.auth.views.login' %}">
        {% csrf_token %}
        <label for="id_username">Username</label>
        <input id="id_username" maxlength="254" name="username" type="text" />
        <label for="id_password">Password</label>
        <input id="id_password" name="password" type="password" />
    
        <input class="submit" type="submit" value="Login" />
        <input type="hidden" name="next" value="{% if next %}{{ next }}{% else %}{% url 'home' %}{% endif %}" />
      </form>
    </div>
</div>
{% endif %}
{% endblock %}
